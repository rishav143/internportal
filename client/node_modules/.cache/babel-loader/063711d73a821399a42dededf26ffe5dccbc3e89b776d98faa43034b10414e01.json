{"ast":null,"code":"import React,{useEffect,useState}from'react';import oppurtunitiesData from\"../opportunities.json\";import axios from\"axios\";import{useNavigate}from'react-router-dom';import styles from\"../CSSModule/Opportunites.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function OppurtunitiesComponent(){const[appliedOppurtunities,setAppliedOppurtunities]=useState([]);useEffect(()=>{fetchAppliedOppurtunities();},[]);const fetchAppliedOppurtunities=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/auth/applied-oppurtunities\"));setAppliedOppurtunities(response.data);}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.heading,children:\"Internship Oppurtunities\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.cards,children:Object.values(oppurtunitiesData.internships_meta).map(oppurtunity=>/*#__PURE__*/_jsx(OppurtunityCard,{oppurtunity:oppurtunity,appliedOppurtunities:appliedOppurtunities},oppurtunity.id))})]});}const OppurtunityCard=_ref=>{let{oppurtunity,appliedOppurtunities}=_ref;const navigate=useNavigate();const{id,profile_name,company_name,stipend,start_date,locations,duration}=oppurtunity;const isApplied=Array.isArray(appliedOppurtunities)&&appliedOppurtunities.some(item=>item.id===id);const applyForOppurtunity=oppurtunity=>{try{axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/auth/apply\"),{oppurtunity}).then(res=>{console.log(res);});navigate(\"/dashboard\");}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h1\",{children:profile_name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Company: \"}),\" \",company_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Stipend: \"}),\" \",stipend.salary]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location: \"}),\" \",locations.map(location=>location.string).join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duration: \"}),\" \",duration]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Start Date: \"}),\" \",start_date]}),isApplied?/*#__PURE__*/_jsx(\"button\",{disabled:true,children:\"Applied\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyForOppurtunity(oppurtunity),children:\"Apply Now\"})]});};","map":{"version":3,"names":["React","useEffect","useState","oppurtunitiesData","axios","useNavigate","styles","jsx","_jsx","jsxs","_jsxs","OppurtunitiesComponent","appliedOppurtunities","setAppliedOppurtunities","fetchAppliedOppurtunities","response","get","concat","process","env","REACT_APP_API_URL","data","error","console","log","className","container","children","heading","cards","Object","values","internships_meta","map","oppurtunity","OppurtunityCard","id","_ref","navigate","profile_name","company_name","stipend","start_date","locations","duration","isApplied","Array","isArray","some","item","applyForOppurtunity","post","then","res","card","salary","location","string","join","disabled","onClick"],"sources":["/Users/rishavchoudhary/Desktop/project/internportal/client/src/Components/OppurtunitiesComponent.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport oppurtunitiesData from \"../opportunities.json\"\nimport axios from \"axios\"\nimport { useNavigate } from 'react-router-dom'\nimport styles from \"../CSSModule/Opportunites.module.css\"\nexport default function OppurtunitiesComponent() {\n  const [appliedOppurtunities,setAppliedOppurtunities] =  useState([])\n  useEffect(()=>{\n    fetchAppliedOppurtunities()\n  },[])\n  const fetchAppliedOppurtunities=async()=>{\n    try {\n      const response =await axios.get(`${process.env.REACT_APP_API_URL}/auth/applied-oppurtunities`)\n    setAppliedOppurtunities(response.data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  return (\n    <div className={styles.container}>\n       <h1 className={styles.heading}>Internship Oppurtunities</h1>\n       <div className={styles.cards}>\n        {Object.values(oppurtunitiesData.internships_meta).map(oppurtunity=>(\n            <OppurtunityCard key={oppurtunity.id} oppurtunity={oppurtunity} \n            appliedOppurtunities={appliedOppurtunities}/>\n        ))}\n       </div>\n    </div>\n  )\n}\n\nconst OppurtunityCard = ({oppurtunity,appliedOppurtunities})=>{\n  const navigate = useNavigate()\n  const {\n     id,\n     profile_name,\n     company_name,\n     stipend,\n     start_date,\n     locations,\n     duration\n  } = oppurtunity\n const isApplied =Array.isArray(appliedOppurtunities) && appliedOppurtunities.some(item=>item.id === id)\n\n  const applyForOppurtunity= (oppurtunity)=>{\n      try {\n         axios.post(`${process.env.REACT_APP_API_URL}/auth/apply`,{oppurtunity}).then((res)=>{\n          console.log(res)\n         })\n         navigate(\"/dashboard\")\n\n      } catch (error) {\n        console.log(error)\n      }\n  }\n  return(\n    <div className={styles.card}>\n      <h1>{profile_name}</h1>\n      <p><strong>Company: </strong> {company_name}</p>\n      <p><strong>Stipend: </strong> {stipend.salary}</p>\n      <p><strong>Location: </strong> {locations.map(location=>location.string).join(', ')}</p>\n      <p><strong>Duration: </strong> {duration}</p>\n      <p><strong>Start Date: </strong> {start_date}</p>\n      {isApplied ? (\n        <button disabled>Applied</button>\n      ): (\n        <button onClick={()=>applyForOppurtunity(oppurtunity)}>Apply Now</button>\n      )}\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}